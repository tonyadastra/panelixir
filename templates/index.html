{% extends "layout.html" %}

{% block styles %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<link rel="stylesheet" href="../static/css/style.css">
<link rel="stylesheet" href="../static/css/card.css">
<link rel="stylesheet" href="../static/css/interactive.css">
{% endblock %}


{% block scripts %}
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"
    defer></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"
    defer></script>
<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://unpkg.com/topojson-client@3"></script>
<script src="../static/js/card.js"></script>
<!--<script src="../static/js/bars.js"></script>-->
<script src="../static/js/new.js"></script>
<script src="../static/js/main.js"></script>
<script src="../static/js/index.js"></script>

<script>
    $(".button-font").on('click', function() {
    $(".button-font").removeClass('active');
    $(this).addClass('active');
})
</script>

{% if scrollToAnchor %}
<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.location.hash = '#{{ scrollToAnchor }}';
        // document.URL="/";
    });
</script>

{% endif %}

{% endblock %}


{% block content %}
<!-- Heading Bar of Webpage-->
<div class="jumbotron">
    <h3 >Coronavirus Vaccine and Treatment Tracker</h3>
</div>
<!-- {{continent_data}} -->


<!-- Data Visualizations-->
<div class="row">
    <div class="col" style="padding: 0;">
        <div id="vis1" class="vis"></div>
    </div>
    <div class="col" style="margin: 0 0.1rem 0 0;">
        <div class="row" style="margin-bottom: 0;">
            <button class="btn btn-outline-primary button-font active" id="World" data-value="World">World</button>
            <button class="btn btn-outline-secondary button-font" id="NorthAmerica" data-value="North America">North America</button>
            <button class="btn btn-outline-secondary button-font" id="Europe" data-value="Europe">Europe</button>
            <button class="btn btn-outline-secondary button-font" id="Asia" data-value="Asia">Asia</button>
            <button class="btn btn-outline-secondary button-font" id="Oceania" data-value="Oceania">Oceania</button>
        </div>

        <div class="interactive-progress row">
            <!--            Extended Length of Bar1-->
            <div class="stage0" style="width: 18px"></div>
            <!--            Bar1-->
            <div class="col" style="padding: 0;">
                <div class="interactive-bar stage0">
                    <div class="bar-data" id="progress0">0</div>
                </div>
            </div>
            <!--            Arrow1-->
            <div class="arrow-right-stage0 stage1"></div>
            <!--            Bar2-->
            <div class="col" style="padding: 0;">
                <div class="interactive-bar stage1">
                    <div class="bar-data" id="progress1">0</div>
                </div>
            </div>
            <!--            Arrow2-->
            <div class="arrow-right-stage1 stage2"></div>
            <!--            Bar3-->
            <div class="col" style="padding: 0;">
                <div class="interactive-bar stage2">
                    <div class="bar-data" id="progress2">0</div>
                </div>
            </div>
            <!-- Arrow3-->
            <div class="arrow-right-stage2 stage3"></div>
            <!-- Bar4-->
            <div class="col" style="padding: 0;">
                <div class="interactive-bar stage3">
                    <div class="bar-data" id="progress3">0</div>
                </div>
        </div>
        <!--            Arrow4-->
        <div class="arrow-right-stage3 stage4"></div>
        <!--            Bar5-->
        <div class="col" style="padding: 0;">
            <div class="interactive-bar stage4">
                <div class="bar-data" id="progress4">0</div>
            </div>
        </div>
        <!--            Arrow5-->
        <div class="arrow-right-stage4"></div>
    </div>
        <div class="interactive-progress row">
            <div class="col" style="padding: 0;">
                <div class="interactive-bar">
                    <div class="bar-tag text-stage0">Pre-Clinical</div>
                </div>
            </div>
            <div class="col" style="padding: 0;">
                <div class="interactive-bar">
                    <div class="bar-tag text-stage1">Phase I</div>
                </div>
            </div>
            <div class="col" style="padding: 0;">
                <div class="interactive-bar">
                    <div class="bar-tag text-stage2">Phase II</div>
                </div>
            </div>
            <div class="col" style="padding: 0;">
                <div class="interactive-bar">
                    <div class="bar-tag text-stage3">Phase III</div>
                </div>
            </div>
            <div class="col" style="padding: 0;">
                <div class="interactive-bar">
                    <div class="bar-tag text-stage4">Approval</div>
                </div>
            </div>
        </div>
        <div id="vis2" class="vis"></div>
        <div id="vis3" class="vis"></div>
    </div>
</div>

<!--</div>-->

<div class="ctr text-center">
    <div class="jumbotron" style="background-color: transparent;">
        <h3 id="title">The Developing Process of a <i>Coronavirus Vaccine</i></h3>
    </div>
    <div class="row">
        <div class="col border-left border-info">
            <span class="highlight stage0">Preclinical</span>
            <p class="black">In the Preclinical stage, the vaccine is <b>given to animals</b> to identify potential
                safety concerns and test if it triggers an immune response.</p>
        </div>
        <div class="col border-left border-info">
            <span class="highlight stage1">Phase I</span>
            <p class="black">In Phase I trials, the vaccine is <b>given to small groups of people</b> (approximately 20
                to 80) to test its safety and confirm that it stimulates the immune system.</p>
        </div>
        <div class="col border-left border-info">
            <span class="highlight stage2">Phase II</span>
            <p class="black">In Phase II trials, the vaccine is <b>given to several hundred people</b>, especially
                people of different ages, to test its effectiveness.</p>
        </div>
        <div class="col border-left border-info">
            <span class="highlight stage3">Phase III</span>
            <p class="black">In Phase III trials, the vaccine is <b>given to several thousand people</b> to confirm and
                expand on safety and effectiveness results from previous trials.</p>
        </div>
        <div class="col border-left border-right border-info">
            <span class="highlight stage4">Approval</span>
            <p class="black">In this stage, regulators in each country <b>review the results</b> and <b>decide to
                    approve the vaccine or not</b>.</p>
        </div>
    </div>

</div>

<!--Heading - Question-->
<!--<div class="heading">-->
<!--    <h1 id="bold">Who will be the first to develop a vaccine?</h1>-->
<!--</div>-->

<!--Filter Data-->
<div id="TagIWantToLoadTo" class="filter">
    <!--    <div class="container">-->
    <form action="/" method="POST" enctype="multipart/form-data">
        <div class="row">
            <div class="column filtertext">
                <b>Filter Vaccines</b>
            </div>
            <!--            Stages-->

            <div class="column">
                <div class="dropdown">
                    <button type="button" class="btn btn-stage dropdown-toggle" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        {{stages_dis}}
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <button class="dropdown-item-0" type="submit" name="stages" value="0">Pre-Clinical</button>
                        <div class="dropdown-divider"></div>
                        <button class="dropdown-item-1" type="submit" name="stages" value="1">Phase I</button>
                        <button class="dropdown-item-2" type="submit" name="stages" value="2">Phase II</button>
                        <button class="dropdown-item-3" type="submit" name="stages" value="3">Phase III</button>
                        <div class="dropdown-divider"></div>
                        <!--                            Disabled-->
                        <button class="dropdown-item disabled" type="submit" name="stages" value="4">Approval</button>
                        <!--                            Enabled-->
                        <!--                            <button class="dropdown-item-4" type="submit" name="stages" value="4">Approval</button>-->
                    </div>
                </div>
            </div>
            <!-- Country-->
            <div class="column">
                <div class="dropdown">
                    <button class="btn btn-country dropdown-toggle" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        {{country_dis}}
                    </button>
                    <div class="dropdown-menu overflow" aria-labelledby="dropdownMenuButton">
                        <button class="dropdown-item-ctry" type="submit" name="country" value="United States">United
                            States</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="United Kingdom">United
                            Kingdom</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="China">China</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="Japan">Japan</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="Germany">Germany</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="India">India</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="South Korea">South
                            Korea</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="France">France</button>
                        <button class="dropdown-item-ctry" type="submit" name="country"
                            value="Australia">Australia</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="Russia">Russia</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="Canada">Canada</button>
                        <button class="dropdown-item-ctry" type="submit" name="country" value="Austria">Austria</button>
                        <button class="dropdown-item-ctry" type="submit" name="country"
                            value="Singapore">Singapore</button>
                    </div>
                </div>
            </div>
            <!--            Vaccine Types-->
            <div class="column">
                <div class="dropdown">
                    <button id="dropdownMenuButton" class="btn btn-types dropdown-toggle" type="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        {{types_dis}}
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <button class="dropdown-item-type" type="submit" name="type" value="Genetic">
                            Genetic Vaccines</button>
                        <button class="dropdown-item-type" type="submit" name="type" value="Viral Vector">
                            Viral Vector Vaccines</button>
                        <button class="dropdown-item-type" type="submit" name="type" value="Protein-Based">
                            Protein-Based Vaccines</button>
                        <button class="dropdown-item-type" type="submit" name="type" value="Whole-Virus">
                            Whole-Virus Vaccines</button>
                        <button class="dropdown-item-type" type="submit" name="type" value="Repurposed">
                            Others</button>
                    </div>
                </div>
            </div>
            <div class="column" style="float: right">
                <button class="btn btn-warning align-right" type="submit" style="background-color: white; border: None"
                    name="status" value="clear">
                    <b><u style="color: darkblue">Clear Filter</u></b>
                </button>
            </div>
            <input type="hidden" id="prev_stages" name="prev_stages" value="{{stages}}">
            <input type="hidden" id="prev_country" name="prev_country" value="{{country}}">
            <input type="hidden" id="prev_types" name="prev_types" value="{{types}}">

        </div>
    </form>


    <!--    </div>-->
</div>
<!-- list institutions -->
<div class="institutions">
    {% if data|length %}
    {% for entry in data %}
    <my-card data-stage={{entry[1]}} data-expand='{{entry[2]}}' data-img='{{entry[3]}}' data-intro='{{entry[4]}}'
        data-country='{{entry[5]}}' data-vactype='{{entry[6]}}'>
    </my-card>
    {% endfor %}
    {% else %}
    <h5 class="text-center" style="color: darkslateblue"> Currently there are no results available </h5>
    {% endif %}
</div>

{% endblock %}

<!--This part will not be displayed yet-->
<!--Image adding opacity with a positive quote-->
<section class="container">
    <div class="imgbox">
        <img class="center-fit" src="../static/img/Untitled.png" alt="Vaccine">
        <div class="centered">
            <blockquote class="blockquote">
                <p class="q">An arrow can only be shot by pulling it backward. So when life is dragging
                    you back with difficulties, it means that it's going to launch you into something great.</p>
                <p class="author">-- Paulo Coelho</p>
            </blockquote>
        </div>
    </div>
</section>